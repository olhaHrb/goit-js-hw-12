{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '43873427-52524e51f424820d3ed845203';\nimport { PAGE } from \"../main\";\nconst PER_PAGE = 15;\nconst params = `?key=${API_KEY}&image_type=photo&orientation=horizontal&safesearch=true&page=${PAGE}&per_page=${PER_PAGE}`;\n\nexport async function fetchImg(searchquery) {\n    const response = await axios.get(`${BASE_URL}${params}&q=${searchquery}`)\n        return response.data;\n};\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: \"alt\",\n  captionsDelay: 250\n});\n\nconst galleryContainer = document.querySelector(\".gallery\");\n\n\nexport function renderImageCard(result) {\n  const imgCreate = result.hits;\n  if (imgCreate.length === 0) {\n    galleryContainer.innerHTML=\"\";\n    iziToast.error({\n      message: (`Sorry, there are no images matching your search query. Please try again!`),\n    });\n  } else {\n    const createMarkup = imgCreate.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n      return (`\n        <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=${largeImageURL}>\n                <img class=\"gallery-image\" src=${webformatURL} alt=${tags} />\n            </a>\n            <ul class=\"gallery-caption\">\n              <li class=\"caption-item\">\n                <h3 class=\"caption-title\">Likes</h3>\n                <p class=\"caption-value\">${likes}</p>\n              </li>\n              <li class=\"caption-item\">\n                <h3 class=\"caption-title\">Views</h3>\n                <p class=\"caption-value\">${views}</p>\n              </li>\n              <li class=\"caption-item\">\n                <h3 class=\"caption-title\">Comments</h3>\n                <p class=\"caption-value\">${comments}</p>\n              </li>\n              <li class=\"caption-item\">\n                <h3 class=\"caption-title\">Downloads</h3>\n                <p class=\"caption-value\">${downloads}</p>\n              </li>\n            </ul>\n        </li>`)\n    }).join('');\n      galleryContainer.innerHTML = createMarkup;\n      lightbox.refresh();\n  };\n};","import { fetchImg } from \"./js/pixabay-api\"; \nimport { renderImageCard } from \"./js/render-functions\";\n\nconst loader = document.querySelector('.loader');\nconst formEach = document.querySelector(\".form\");\nconst btnLoad = document.querySelector('.btn_load');\nlet searchValue = \"\";\nlet pageValue;\nexport const PAGE = pageValue;\n\nformEach.addEventListener(\"submit\", onSearch);\nbtnLoad.addEventListener(\"click\", onLoad)\n\nfunction onSearch(event) {\n  event.preventDefault();\n  loader.classList.remove('is-hidden');\n  pageValue = 1;\n  const form = event.currentTarget;\n  const searchQuery = form.elements.searchInput.value.trim();\n\n  if (searchQuery === \"\") { \n    loader.classList.add('is-hidden');\n    return;\n  };  \n  \n  searchValue = searchQuery;\n\n  fetchImg(searchQuery)\n    .then(image => {\n      renderImageCard(image);\n    }) \n    .catch (error => {\n      onFetchError(error);\n    })\n    .finally(() => {\n      form.reset();\n      loader.classList.add('is-hidden');\n      btnLoad.classList.remove('is-hidden');\n    });\n};\n\nfunction onFetchError(error) {\n  alert(error);\n}\n\nfunction onLoad(event) {\n  pageValue = pageValue + 1;\n  fetchImg(searchValue)\n    .then(image => {\n      renderImageCard(image);\n    }) \n    .catch (error => {\n      onFetchError(error);\n    })\n    .finally(() => {\n      \n    });\n};\n\n\n"],"names":["BASE_URL","API_KEY","PER_PAGE","params","PAGE","fetchImg","searchquery","axios","lightbox","SimpleLightbox","galleryContainer","renderImageCard","result","imgCreate","iziToast","createMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","loader","formEach","btnLoad","searchValue","pageValue","onSearch","onLoad","event","form","searchQuery","image","error","onFetchError"],"mappings":"owBAEA,MAAMA,EAAW,2BACXC,EAAU,qCAEVC,EAAW,GACXC,EAAS,QAAQF,CAAO,iEAAiEG,CAAI,aAAaF,CAAQ,GAEjH,eAAeG,EAASC,EAAa,CAEpC,OADa,MAAMC,EAAM,IAAI,GAAGP,CAAQ,GAAGG,CAAM,MAAMG,CAAW,EAAE,GACpD,IACxB,CCNA,MAAME,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,cAAe,GACjB,CAAC,EAEKC,EAAmB,SAAS,cAAc,UAAU,EAGnD,SAASC,EAAgBC,EAAQ,CACtC,MAAMC,EAAYD,EAAO,KACzB,GAAIC,EAAU,SAAW,EACvBH,EAAiB,UAAU,GAC3BI,EAAS,MAAM,CACb,QAAU,0EAChB,CAAK,MACI,CACL,MAAMC,EAAeF,EAAU,IAAI,CAAC,CAAE,aAAAG,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAChG;AAAA;AAAA,2CAE6BL,CAAa;AAAA,iDACPD,CAAY,QAAQE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,2CAK9BC,CAAK;AAAA;AAAA;AAAA;AAAA,2CAILC,CAAK;AAAA;AAAA;AAAA;AAAA,2CAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,2CAIRC,CAAS;AAAA;AAAA;AAAA,cAI/C,EAAE,KAAK,EAAE,EACRZ,EAAiB,UAAYK,EAC7BP,EAAS,QAAO,CAEtB,CAAA,CC/CA,MAAMe,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAW,SAAS,cAAc,OAAO,EACzCC,EAAU,SAAS,cAAc,WAAW,EAClD,IAAIC,EAAc,GACdC,EACG,MAAMvB,EAAOuB,EAEpBH,EAAS,iBAAiB,SAAUI,CAAQ,EAC5CH,EAAQ,iBAAiB,QAASI,CAAM,EAExC,SAASD,EAASE,EAAO,CACvBA,EAAM,eAAc,EACpBP,EAAO,UAAU,OAAO,WAAW,EACnCI,EAAY,EACZ,MAAMI,EAAOD,EAAM,cACbE,EAAcD,EAAK,SAAS,YAAY,MAAM,OAEpD,GAAIC,IAAgB,GAAI,CACtBT,EAAO,UAAU,IAAI,WAAW,EAChC,MAEJ,CACEG,EAAcM,EAEd3B,EAAS2B,CAAW,EACjB,KAAKC,GAAS,CACbtB,EAAgBsB,CAAK,CAC3B,CAAK,EACA,MAAOC,GAAS,CACfC,EAAaD,CAAK,CACxB,CAAK,EACA,QAAQ,IAAM,CACbH,EAAK,MAAK,EACVR,EAAO,UAAU,IAAI,WAAW,EAChCE,EAAQ,UAAU,OAAO,WAAW,CAC1C,CAAK,CACL,CAEA,SAASU,EAAaD,EAAO,CAC3B,MAAMA,CAAK,CACb,CAEA,SAASL,EAAOC,EAAO,CACrBH,EAAYA,EAAY,EACxBtB,EAASqB,CAAW,EACjB,KAAKO,GAAS,CACbtB,EAAgBsB,CAAK,CAC3B,CAAK,EACA,MAAOC,GAAS,CACfC,EAAaD,CAAK,CACxB,CAAK,EACA,QAAQ,IAAM,CAEnB,CAAK,CACL"}